# Production stage using pre-built dist
# Uses cached invest-frontend image as base to avoid registry pulls when offline
FROM invest-frontend:latest

USER root

# Copy updated pre-built files
COPY dist /usr/share/nginx/html

# Copy nginx configuration (in case it changed)
COPY nginx.conf /etc/nginx/conf.d/default.conf

# Ensure ownership
RUN chown -R appuser:appgroup /usr/share/nginx/html

USER appuser
